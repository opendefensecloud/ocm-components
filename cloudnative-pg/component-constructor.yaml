components:
  - name: github.com/ocm/cloudnative-pg
    version: 1.27.1
    provider:
      name: cloudnative-pg.io
    labels:
      - name: app.kubernetes.io/name
        value: cloudnative-pg
      - name: app.kubernetes.io/component
        value: database-operator
      - name: app.kubernetes.io/part-of
        value: cloudnative-pg
    resources:
      # CloudNativePG Operator Manifest
      - name: cnpg-operator-manifest
        type: yaml
        version: 1.27.1
        relation: local
        input:
          type: file
          path: operator/cnpg-operator.yml
          mediaType: application/x-yaml

      # CloudNativePG Operator Helm Chart Values
      - name: cnpg-operator-values
        type: yaml
        version: 1.27.1
        relation: local
        input:
          type: file
          path: operator/values.yaml
          mediaType: application/x-yaml

      # CloudNativePG Cluster Helm Chart Values
      - name: cnpg-cluster-values
        type: yaml
        version: 1.27.1
        relation: local
        input:
          type: file
          path: operator/cluster-values.yaml
          mediaType: application/x-yaml

      # CloudNativePG Operator Container Image
      - name: cnpg-operator-image
        type: ociImage
        version: 1.27.1
        relation: external
        access:
          type: ociArtifact
          imageReference: ghcr.io/cloudnative-pg/cloudnative-pg:1.27.1

      # PostgreSQL 17 Image (latest supported)
      - name: postgresql-17-image
        type: ociImage
        version: "17"
        relation: external
        access:
          type: ociArtifact
          imageReference: ghcr.io/cloudnative-pg/postgresql:17

      # PostgreSQL 16 Image
      - name: postgresql-16-image
        type: ociImage
        version: "16"
        relation: external
        access:
          type: ociArtifact
          imageReference: ghcr.io/cloudnative-pg/postgresql:16

      # PostgreSQL 15 Image
      - name: postgresql-15-image
        type: ociImage
        version: "15"
        relation: external
        access:
          type: ociArtifact
          imageReference: ghcr.io/cloudnative-pg/postgresql:15

      # Minimal Configuration (Single instance, development)
      - name: cnpg-minimal-config
        type: yaml
        version: 1.27.1
        relation: local
        input:
          type: file
          path: configs/minimal/cluster.yaml
          mediaType: application/x-yaml

      # Production Configuration (HA with replicas, backup, monitoring)
      - name: cnpg-production-config
        type: yaml
        version: 1.27.1
        relation: local
        input:
          type: file
          path: configs/production/cluster.yaml
          mediaType: application/x-yaml

      # Helm Chart Reference (for advanced users)
      - name: helm-chart-info
        type: yaml
        version: 1.27.1
        relation: local
        input:
          type: file
          path: docs/HELM_CHART_CONFIG.md
          mediaType: text/markdown

    sources:
      - name: cnpg-operator-source
        type: git
        version: 1.27.1
        access:
          type: github
          repoUrl: github.com/cloudnative-pg/cloudnative-pg
          ref: release-1.27

      - name: cnpg-helm-charts-source
        type: git
        version: 1.27.1
        access:
          type: github
          repoUrl: github.com/cloudnative-pg/charts
          ref: main
